## Summary

주차장의 공간 부족으로 인한 불편이 증가하고 주차에 대한 스트레스가 증가하는 것에 대해 대전의 스마트시티 데이터를 활용하여 주차장의 앞으로의 수요를 예측하는 모델을 제시함으로써 이를 효과적으로 해결할 수 있도록 한다. 모델링으로는 시계열 모델인 ARIMA와 LSTM을 활용한다.

## 서론

1. 문제인식
    - 주차 공간 부족으로 인한 불편증가
    - 주차 스트레스
2. 현행시스템
    - 대전 스마트시티를 통한 주차장 실시간 정보 확인
        - 주차 정보의 공유로 주차 이용률 불균형, 불법 주정차 등 도시문제 해소
        - 할인권 통합 운영, 편리한 결제 서비스 제공
3. 해결방안
    - 주차장 수요예측을 통한 주차장 이용의 효율성 증대
        - ex) 내일 오후 4시 A 주차장 주차 가능 대수
        - ex) C주차장에서 주차가 가능한 가까운 주차장
        
## 본론

### 사용 데이터

1. 타겟 데이터
    - 주차공유 서비스
        - 대전 스마트시티 데이터
        - 5개의 주차장 중 주차장노면 수를 알 수 있는 중앙시장 복합주차빌딩 제2주차장만을 이용
        - 각 시간대별 입차(대)수를 타겟으로 활용
2. 설명변수 데이터
    - 미세먼지 조밀측정망 서비스
        - 대전 스마트시티 데이터
        - 데이터의 Null값 처리를 위해 AirKorea의 대전시 성남동의 데이터 이용
    - 유동인구
        - 민간데이터
        - 원동(중앙동)의 데이터 이용
    - 카드매출
        - 민간데이터
        - 원동(중앙동)의 데이터 이용
    - 기상청 데이터
        - 공공데이터
        - 중앙동 기온, 풍속, 습도, 강수 데이터 활용
    - 지하철 승하차 인원
        - 공공데이터
        - 대전역 승하차 인원 데이터 활용
        

### 회귀분석 및 데이터 검증

1. **PCA**
    - 카드 매출 데이터 간의 상관관계가 높아 **데이터를 축소**하기 위해 주성분 분석(PCA) 진행
2. **회귀분석**
    - 각 설명변수의 **유의성을 판별**하기 위해 회귀분석을 진행
    - 각 설명변수의 p-value가 0.05이하인 변수들은 유의하지 않다고 판단하고 제거하였음
3. **데이터 증식**
    - 피쳐가 부족하여 **과소적합의 가능성**이 있기 때문에 데이터 증식을 진행
    - PolyFeatures를 이용해 다차항 변수와 교호작용 변수의 조합을 생성함
4. **데이터 검증**
    - 전처리 진행 이전의 변수들과 증식된 변수들의 비교를 통해 전처리의 효과 검증
    - 가장 단순한 회귀모델인 Linear Regression 이용

### 데이터 전처리

1. **표준화**
    - 데이터들 간의 분산에 편차가 있는 경우 적절한 분석이 어렵기 때문에 **MinMaxScaler**를 사용하여 표준화
2. **PCA**
    - 시계열 데이터의 외부변수는 **상관관계가 높지 않는 것**이 좋기 때문에 PCA를 통해 상관관계가 0인 변수들을 사용
3. **시간변수 추가**
    - 시계열적인 특성을 부가하기 위해 **시간대별, 요일별 더미 변수, 시간대별 차분 변수** 추가
    
    ## 모델링

### Overview

본 프로젝트의 모델링 과정은 다음과 같다.
**ARIMA**를 이용한 모델링과 **LSTM**을 이용한 딥러닝 모델의 결과를 앙상블 하여 최종 예측 결과를 도출한다.

### ARIMA

- ARIMA란?
    
    [시계열 예측 모델 ARIMA](https://www.notion.so/ARIMA-c0e4648f81ab4eb0a28f1d075c2c487f)
    
    - AR과 MA를 둘다 고려하는 모형
    - 시계열의 비정상성을 설명하기 위해 관측치 간의 차분을 이용한다.
1. 시계열 분해
    - 시계열의 구성요소 추세(Trend), 계절성(Seasonal), 불규칙 요인(Residual)을 확인
    
2. 차분
    
    현재 시점에서 이전 시점의 자료를 빼는 연산으로 평균을 정상화하는데 이용
        
3. 정상성 검정
    
    어떤 시계열 자료의 변화 패턴이 평균값을 중심으로 일정한 변동폭을 갖는 시계열
    
    - 정상성 검정 과정
        정상성 검정 시 Dickey-Fuller Test를 이용하였다.
        
4. 모델 차수 탐색
    - Auto Arima
        차수를 조절하며 AUC를 최소로 하는 최적의 차수를 찾는 방법
        
5. 모델 생성
    - SARIMAX
        - SARIMA
            
            기존 Arima모델에 계절성 차분이 추가된 모델로 데이터의 주기(m)의 정보를 이용
            
        - SARIMAX
            
            SARIMA모델에 외부변수(X)를 이용한 모델
            

### LSTM

- LSTM이란?
    
    [LSTM](https://www.notion.so/LSTM-7574d37cab0f4cecac673ed88704d610)
    
    - 순환 신경망 중 하나로, RNN이 갖는 Gradient 손실 문제를 해결한 모형
    - 시계열, 텍스트, 영상 등 다양한 분야에서 활용

### Ensemble

- 성능지표
    - RMSLE(Root Mean Squared Log Error)
        
    - ARIMA모델: 0.0436
    - LSTM모델  : 0.0422
- 멱평균 앙상블
    
    산술평균, 기하평균, 조화평균 등을 포함한 일반화된 평균식
    

## Result

https://www.notion.so/44a7f50160594355bfe5b6fedcbd1dc9
